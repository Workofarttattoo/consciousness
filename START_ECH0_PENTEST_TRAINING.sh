#!/bin/bash
# Copyright (c) 2025 Joshua Hendricks Cole (DBA: Corporation of Light). All Rights Reserved. PATENT PENDING.
#
# ECH0 Penetration Testing Training - Quick Start Script
#

set -e

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                                                                           â•‘"
echo "â•‘            ECH0 PhD-LEVEL PENETRATION TESTING TRAINING                    â•‘"
echo "â•‘                 Autonomous Security Training System                       â•‘"
echo "â•‘                                                                           â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# Check if curriculum exists
if [ ! -f "ech0_pentest_training_data.json" ]; then
    echo "âš¡ Generating training curriculum..."
    python3 ech0_pentest_phd_curriculum.py
    echo ""
fi

echo "ğŸ¯ What would you like to do?"
echo ""
echo "  1) Start Autonomous Training Session"
echo "  2) View Progress Dashboard (HTML)"
echo "  3) View Progress (Terminal)"
echo "  4) Practice Specific Technique"
echo "  5) Complete Lab Exercise"
echo "  6) Update Curriculum"
echo "  7) Integrate with AI:OS"
echo "  8) View Documentation"
echo "  9) Exit"
echo ""
read -p "Enter choice [1-9]: " choice

case $choice in
    1)
        echo ""
        echo "ğŸ¤– Starting autonomous training session..."
        python3 ech0_pentest_training_ingestion.py
        ;;
    2)
        echo ""
        echo "ğŸ“Š Opening HTML dashboard..."
        open ech0_pentest_training_dashboard.html
        ;;
    3)
        echo ""
        echo "ğŸ“Š Loading progress..."
        python3 << 'PYEOF'
import asyncio
from ech0_pentest_training_ingestion import ECH0PentestTrainingEngine

engine = ECH0PentestTrainingEngine()
engine.load_curriculum("ech0_pentest_training_data.json")
engine.print_progress_dashboard()
PYEOF
        ;;
    4)
        echo ""
        read -p "Enter module ID (e.g., NET-001): " module_id
        read -p "Enter technique name: " technique
        python3 << PYEOF
import asyncio
from ech0_pentest_training_ingestion import ECH0PentestTrainingEngine

async def practice():
    engine = ECH0PentestTrainingEngine()
    engine.load_curriculum("ech0_pentest_training_data.json")
    await engine.practice_technique("$module_id", "$technique")

asyncio.run(practice())
PYEOF
        ;;
    5)
        echo ""
        read -p "Enter module ID (e.g., NET-001): " module_id
        read -p "Enter lab name: " lab
        python3 << PYEOF
import asyncio
from ech0_pentest_training_ingestion import ECH0PentestTrainingEngine

async def complete_lab():
    engine = ECH0PentestTrainingEngine()
    engine.load_curriculum("ech0_pentest_training_data.json")
    await engine.complete_lab("$module_id", "$lab")

asyncio.run(complete_lab())
PYEOF
        ;;
    6)
        echo ""
        echo "ğŸ”„ Updating curriculum..."
        python3 ech0_pentest_phd_curriculum.py
        ;;
    7)
        echo ""
        echo "ğŸ”— Testing AI:OS integration..."
        cd ../aios
        python3 pentest_training_integration.py
        ;;
    8)
        echo ""
        echo "ğŸ“– Opening documentation..."
        open ECH0_PENTEST_TRAINING_COMPLETE.md
        ;;
    9)
        echo ""
        echo "Goodbye! ğŸš€"
        exit 0
        ;;
    *)
        echo ""
        echo "âŒ Invalid choice"
        ;;
esac

echo ""
read -p "Press Enter to exit..."
